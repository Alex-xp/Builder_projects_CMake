# Простой проект

Проект одного исходного кода. 

Здесь описываются только базовые концепции сборок.

## Описание файла CMakeLists.txt

``CMakeLists.txt`` - файл описания сборки для CMake.


``cmake_minimum_required(VERSION 3.5)`` - указываем минимальную версию CMake для сборки проекта

``project(application)`` - имя проекта. Это способ указать имя вашей сборки (в проектах я его не применяю постоянно - нужно для работы CMake)

``# БАЗОВЫЕ И ПЕРВООЧЕРЕДНЫЕ ОПЦИИ КОМПИЛЯТОРА`` - имеют хорошие коментарии их принцип работы прост и понятен

``# ВЕРСИЯ СБОРКИ DEBUG ИЛИ RELEASE`` - здесь сверяется строка из скрипта сборки на CMake и добавляется переменная высокого уровня _DEBUG для более простого использования в скриптах.

Далее устанавливаются директории компиляции проекта - то есть куда компилировать сборки.

``add_compile_options(-std=c++20 )`` - версия языка Cpp. Можно указать c++11,c++17,c++20 или иные в зависимости от компилятора

``# ОПЦИИ СБОРКИ`` - так же хорошо закомментированный код скрипта CMake - описание проблем вызвать не должно.

И собственно в конце сама сборка 

``set(SOURCES src/main.cpp )`` - подключение исходников

И

``add_executable(program ${SOURCES})`` - добавление правил сборки исполняемого файла

## СБОРКА

сборка происходит из дерикрории конечной цели (в проекте это директория build в его корне)

``cmake -G "MinGW Makefiles" -DCMAKE_BUILD_TYPE=Debug ../`` - подготовка сборки

``call mingw32-make -f Makefile`` - сборка

Для того как правильно собрать проекты смотрите скрипты в директории ``build_scripts``

Здесь нужно учитывать следующее:
- в таких скриптах легче разделить сборки на подверсии
- для каждой сборки возможно потребуются дополнительные ключи CMake корорые создаются через ``-D`` например ``-DCMAKE_BUILD_TYPE=Debug``
- можно произвести дополнительную подготовку пред самой сборкой или подключить сборку сторонних проектов

Проще сказать - эти скрипты необходимы для лучших настроек проектов и тонкой вариации сборок.



